<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¼èˆªåŠŸèƒ½ç®€å•æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .nav-link { 
            display: block; 
            padding: 10px; 
            margin: 5px 0; 
            background: #f0f0f0; 
            text-decoration: none; 
            color: #333;
            border-radius: 4px;
            cursor: pointer;
        }
        .nav-link:hover { background: #e0e0e0; }
        .nav-link.active { background: #007bff; color: white; }
        .page-content { 
            display: none; 
            padding: 20px; 
            border: 1px solid #ddd; 
            margin: 20px 0; 
            border-radius: 4px;
        }
        .page-content.active { display: block; }
        .debug-info { 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 4px; 
            margin: 20px 0;
            font-family: monospace;
        }
        .test-button { 
            background: #28a745; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            margin: 5px; 
            border-radius: 4px; 
            cursor: pointer;
        }
        .test-button:hover { background: #218838; }
    </style>
</head>
<body>
    <h1>ğŸ§ª å¯¼èˆªåŠŸèƒ½ç®€å•æµ‹è¯•</h1>
    
    <div class="debug-info">
        <h3>ğŸ“Š æµ‹è¯•è¯´æ˜</h3>
        <p>è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„å¯¼èˆªæµ‹è¯•é¡µé¢ï¼Œç”¨äºéªŒè¯äº‹ä»¶ç»‘å®šæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
        <p>å¦‚æœå¯¼èˆªåŠŸèƒ½æ­£å¸¸ï¼Œç‚¹å‡»èœå•é¡¹åº”è¯¥èƒ½å¤Ÿåˆ‡æ¢é¡µé¢å†…å®¹ã€‚</p>
    </div>
    
    <div style="display: flex; gap: 20px;">
        <!-- å¯¼èˆªèœå• -->
        <div style="min-width: 200px;">
            <h3>ğŸ“‹ å¯¼èˆªèœå•</h3>
            <a class="nav-link active" href="#" data-page="dashboard">ğŸ  æ§åˆ¶å°</a>
            <a class="nav-link" href="#" data-page="user-behavior">ğŸ‘¥ ç”¨æˆ·è¡Œä¸ºåˆ†æ</a>
            <a class="nav-link" href="#" data-page="recommendations">âœ¨ æ™ºèƒ½æ¨è</a>
            <a class="nav-link" href="#" data-page="intent-analysis">ğŸ§  AIæ„å›¾åˆ†æ</a>
            <a class="nav-link" href="#" data-page="products">ğŸ“¦ äº§å“ç®¡ç†</a>
            <a class="nav-link" href="#" data-page="analytics">ğŸ“Š æ•°æ®åˆ†æ</a>
            <a class="nav-link" href="#" data-page="monitoring">ğŸ’“ ç³»ç»Ÿç›‘æ§</a>
        </div>
        
        <!-- é¡µé¢å†…å®¹ -->
        <div style="flex: 1;">
            <h3>ğŸ“„ é¡µé¢å†…å®¹</h3>
            
            <div class="page-content active" id="dashboard-page">
                <h4>ğŸ  æ§åˆ¶å°</h4>
                <p>è¿™æ˜¯æ§åˆ¶å°é¡µé¢çš„å†…å®¹ã€‚å¦‚æœæ‚¨èƒ½çœ‹åˆ°è¿™ä¸ªé¡µé¢ï¼Œè¯´æ˜å¯¼èˆªåŠŸèƒ½æ­£å¸¸ã€‚</p>
                <p>å½“å‰æ—¶é—´: <span id="current-time"></span></p>
            </div>
            
            <div class="page-content" id="user-behavior-page">
                <h4>ğŸ‘¥ ç”¨æˆ·è¡Œä¸ºåˆ†æ</h4>
                <p>è¿™æ˜¯ç”¨æˆ·è¡Œä¸ºåˆ†æé¡µé¢çš„å†…å®¹ã€‚</p>
                <p>é¡µé¢ID: user-behavior-page</p>
            </div>
            
            <div class="page-content" id="recommendations-page">
                <h4>âœ¨ æ™ºèƒ½æ¨è</h4>
                <p>è¿™æ˜¯æ™ºèƒ½æ¨èé¡µé¢çš„å†…å®¹ã€‚</p>
                <p>é¡µé¢ID: recommendations-page</p>
            </div>
            
            <div class="page-content" id="intent-analysis-page">
                <h4>ğŸ§  AIæ„å›¾åˆ†æ</h4>
                <p>è¿™æ˜¯AIæ„å›¾åˆ†æé¡µé¢çš„å†…å®¹ã€‚</p>
                <p>é¡µé¢ID: intent-analysis-page</p>
            </div>
            
            <div class="page-content" id="products-page">
                <h4>ğŸ“¦ äº§å“ç®¡ç†</h4>
                <p>è¿™æ˜¯äº§å“ç®¡ç†é¡µé¢çš„å†…å®¹ã€‚</p>
                <p>é¡µé¢ID: products-page</p>
            </div>
            
            <div class="page-content" id="analytics-page">
                <h4>ğŸ“Š æ•°æ®åˆ†æ</h4>
                <p>è¿™æ˜¯æ•°æ®åˆ†æé¡µé¢çš„å†…å®¹ã€‚</p>
                <p>é¡µé¢ID: analytics-page</p>
            </div>
            
            <div class="page-content" id="monitoring-page">
                <h4>ğŸ’“ ç³»ç»Ÿç›‘æ§</h4>
                <p>è¿™æ˜¯ç³»ç»Ÿç›‘æ§é¡µé¢çš„å†…å®¹ã€‚</p>
                <p>é¡µé¢ID: monitoring-page</p>
            </div>
        </div>
    </div>
    
    <div style="margin-top: 30px;">
        <h3>ğŸ§ª æµ‹è¯•åŠŸèƒ½</h3>
        <button class="test-button" onclick="testNavigation()">æµ‹è¯•å¯¼èˆªåŠŸèƒ½</button>
        <button class="test-button" onclick="checkEventBinding()">æ£€æŸ¥äº‹ä»¶ç»‘å®š</button>
        <button class="test-button" onclick="rebindEvents()">é‡æ–°ç»‘å®šäº‹ä»¶</button>
        <button class="test-button" onclick="clearConsole()">æ¸…ç©ºæ§åˆ¶å°</button>
    </div>
    
    <div class="debug-info">
        <h3>ğŸ“ æ§åˆ¶å°æ—¥å¿—</h3>
        <div id="console-log" style="background: #000; color: #0f0; padding: 10px; border-radius: 4px; max-height: 200px; overflow-y: auto; font-size: 12px;"></div>
    </div>
    
    <script>
        // ç®€åŒ–çš„PageNavigatorç±»
        class SimplePageNavigator {
            constructor() {
                this.currentPage = 'dashboard';
                this.initialized = false;
                this.init();
            }
            
            init() {
                console.log('SimplePageNavigator åˆå§‹åŒ–å¼€å§‹...');
                this.bindNavigationEvents();
                this.initialized = true;
                console.log('SimplePageNavigator åˆå§‹åŒ–å®Œæˆ');
                
                // æ›´æ–°æ—¶é—´
                this.updateTime();
                setInterval(() => this.updateTime(), 1000);
            }
            
            bindNavigationEvents() {
                console.log('å¼€å§‹ç»‘å®šå¯¼èˆªäº‹ä»¶...');
                
                const navLinks = document.querySelectorAll('.nav-link');
                console.log(`æ‰¾åˆ° ${navLinks.length} ä¸ªå¯¼èˆªé“¾æ¥`);
                
                navLinks.forEach((link, index) => {
                    const pageName = link.getAttribute('data-page');
                    console.log(`ç»‘å®šå¯¼èˆªé“¾æ¥ ${index + 1}: ${pageName}`);
                    
                    // ç§»é™¤æ—§çš„äº‹ä»¶ç›‘å¬å™¨
                    link.removeEventListener('click', this.handleNavClick);
                    
                    // æ·»åŠ æ–°çš„äº‹ä»¶ç›‘å¬å™¨
                    link.addEventListener('click', this.handleNavClick.bind(this));
                    
                    console.log(`âœ… å¯¼èˆªé“¾æ¥ ${pageName} äº‹ä»¶ç»‘å®šæˆåŠŸ`);
                });
                
                console.log('âœ… å¯¼èˆªäº‹ä»¶ç»‘å®šå®Œæˆ');
            }
            
            handleNavClick(e) {
                e.preventDefault();
                e.stopPropagation();
                
                const targetPage = e.currentTarget.getAttribute('data-page');
                console.log(`ğŸ¯ å¤„ç†å¯¼èˆªç‚¹å‡»: ${targetPage}`);
                
                if (targetPage) {
                    this.navigateToPage(targetPage);
                }
            }
            
            navigateToPage(pageName) {
                console.log(`å¼€å§‹å¯¼èˆªåˆ°é¡µé¢: ${pageName}`);
                
                // éšè—æ‰€æœ‰é¡µé¢
                document.querySelectorAll('.page-content').forEach(page => {
                    page.classList.remove('active');
                });

                // æ˜¾ç¤ºç›®æ ‡é¡µé¢
                const targetPage = document.getElementById(pageName + '-page');
                if (targetPage) {
                    targetPage.classList.add('active');
                    console.log(`âœ… æ˜¾ç¤ºé¡µé¢: ${pageName}-page`);
                }

                // æ›´æ–°å¯¼èˆªçŠ¶æ€
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                
                const activeLink = document.querySelector(`[data-page="${pageName}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                    console.log(`âœ… æ¿€æ´»å¯¼èˆªé“¾æ¥: ${pageName}`);
                }

                this.currentPage = pageName;
                console.log(`âœ… å½“å‰é¡µé¢å·²æ›´æ–°ä¸º: ${pageName}`);
            }
            
            updateTime() {
                const timeElement = document.getElementById('current-time');
                if (timeElement) {
                    timeElement.textContent = new Date().toLocaleString();
                }
            }
        }
        
        // é‡å†™console.logä»¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š
        const originalLog = console.log;
        const originalError = console.error;
        
        function addToLog(message, type = 'log') {
            const logDiv = document.getElementById('console-log');
            if (logDiv) {
                const timestamp = new Date().toLocaleTimeString();
                const logEntry = document.createElement('div');
                logEntry.style.color = type === 'error' ? '#ff6b6b' : type === 'warn' ? '#ffd93d' : '#0f0';
                logEntry.textContent = `[${timestamp}] ${message}`;
                logDiv.appendChild(logEntry);
                logDiv.scrollTop = logDiv.scrollHeight;
            }
        }
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addToLog(args.join(' '));
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addToLog(args.join(' '), 'error');
        };
        
        // æµ‹è¯•å‡½æ•°
        function testNavigation() {
            console.log('ğŸ§ª æµ‹è¯•å¯¼èˆªåŠŸèƒ½...');
            const pages = ['dashboard', 'user-behavior', 'recommendations', 'intent-analysis', 'products', 'analytics', 'monitoring'];
            
            pages.forEach((page, index) => {
                setTimeout(() => {
                    console.log(`æµ‹è¯•é¡µé¢ ${index + 1}: ${page}`);
                    if (window.simpleNavigator) {
                        window.simpleNavigator.navigateToPage(page);
                    }
                }, index * 500);
            });
        }
        
        function checkEventBinding() {
            console.log('ğŸ” æ£€æŸ¥äº‹ä»¶ç»‘å®šçŠ¶æ€...');
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach((link, index) => {
                const pageName = link.getAttribute('data-page');
                const hasListeners = link.onclick !== null;
                console.log(`å¯¼èˆªé“¾æ¥ ${pageName}: ${hasListeners ? 'âœ… å·²ç»‘å®š' : 'âŒ æœªç»‘å®š'}`);
            });
        }
        
        function rebindEvents() {
            console.log('ğŸ”§ é‡æ–°ç»‘å®šäº‹ä»¶...');
            if (window.simpleNavigator) {
                window.simpleNavigator.bindNavigationEvents();
            }
        }
        
        function clearConsole() {
            const logDiv = document.getElementById('console-log');
            if (logDiv) {
                logDiv.innerHTML = '';
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œåˆå§‹åŒ–å¯¼èˆªå™¨...');
            window.simpleNavigator = new SimplePageNavigator();
        });
    </script>
</body>
</html>
